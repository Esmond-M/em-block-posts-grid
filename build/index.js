(()=>{var e,t={140:(e,t,r)=>{"use strict";const o=window.wp.blocks,n=window.React,s=window.lodash;var a=r(942),i=r.n(a);const l=window.wp.element,c=window.wp.components,p=window.wp.apiFetch;var d=r.n(p);const m=window.wp.url,u=window.wp.i18n,g=window.wp.date,_=window.wp.blockEditor,h=window.wp.data,w={per_page:-1};class y extends l.Component{constructor(){super(...arguments),this.state={categoriesList:[]}}componentDidMount(){this.isStillMounted=!0,this.fetchRequest=d()({path:(0,m.addQueryArgs)("/wp/v2/categories",w)}).then((e=>{this.isStillMounted&&this.setState({categoriesList:e})})).catch((()=>{this.isStillMounted&&this.setState({categoriesList:[]})}))}componentWillUnmount(){this.isStillMounted=!1}render(){const{attributes:e,setAttributes:t,latestPosts:r}=this.props,{categoriesList:o}=this.state,{displayPostContentRadio:s,displayPostContent:a,displayPostDate:p,postLayout:d,columns:m,order:h,orderBy:w,categories:y,postsToShow:f,excerptLength:v}=e,b=(0,n.createElement)(_.InspectorControls,null,(0,n.createElement)(c.PanelBody,{title:(0,u.__)("Post content settings")},(0,n.createElement)(c.ToggleControl,{label:(0,u.__)("Post Content"),checked:a,onChange:e=>t({displayPostContent:e})}),a&&(0,n.createElement)(c.RadioControl,{label:(0,u.__)("Show:"),selected:s,options:[{label:(0,u.__)("Excerpt"),value:"excerpt"},{label:(0,u.__)("Full Post"),value:"full_post"}],onChange:e=>t({displayPostContentRadio:e})}),a&&"excerpt"===s&&(0,n.createElement)(c.RangeControl,{label:(0,u.__)("Max number of words in excerpt"),value:v,onChange:e=>t({excerptLength:e}),min:10,max:100})),(0,n.createElement)(c.PanelBody,{title:(0,u.__)("Post meta settings")},(0,n.createElement)(c.ToggleControl,{label:(0,u.__)("Display post date"),checked:p,onChange:e=>t({displayPostDate:e})})),(0,n.createElement)(c.PanelBody,{title:(0,u.__)("Sorting and filtering")},(0,n.createElement)(c.QueryControls,{order:h,orderBy:w,numberOfItems:f,categoriesList:o,selectedCategoryId:y,onOrderChange:e=>t({order:e}),onOrderByChange:e=>t({orderBy:e}),onCategoryChange:e=>t({categories:""!==e?e:void 0}),onNumberOfItemsChange:e=>t({postsToShow:e})}),"grid"===d&&(0,n.createElement)(c.RangeControl,{label:(0,u.__)("Columns"),value:m,onChange:e=>t({columns:e}),min:2,max:C?Math.min(6,r.length):6,required:!0}))),C=Array.isArray(r)&&r.length;if(!C)return(0,n.createElement)(n.Fragment,null,b,(0,n.createElement)(c.Placeholder,{icon:"admin-post",label:(0,u.__)("Latest Posts")},Array.isArray(r)?(0,u.__)("No posts found."):(0,n.createElement)(c.Spinner,null)));const E=r.length>f?r.slice(0,f):r,k=[{icon:"list-view",title:(0,u.__)("List view"),onClick:()=>t({postLayout:"list"}),isActive:"list"===d},{icon:"grid-view",title:(0,u.__)("Grid view"),onClick:()=>t({postLayout:"grid"}),isActive:"grid"===d}],x=(0,g.__experimentalGetSettings)().formats.date;return(0,n.createElement)(n.Fragment,null,b,(0,n.createElement)(_.BlockControls,null,(0,n.createElement)(c.ToolbarGroup,{controls:k})),(0,n.createElement)("ul",{className:i()(this.props.className,{"wp-block-latest-posts__list":!0,"is-grid":"grid"===d,"has-dates":p,[`columns-${m}`]:"grid"===d})},E.map(((e,t)=>{const r=e.title.rendered.trim();let o=e.excerpt.rendered;""===e.excerpt.raw&&(o=e.content.raw);const i=document.createElement("div");return i.innerHTML=o,o=i.textContent||i.innerText||"",(0,n.createElement)("li",{key:t},(0,n.createElement)("a",{href:e.link,target:"_blank",rel:"noreferrer noopener"},r?(0,n.createElement)(l.RawHTML,null,r):(0,u.__)("(no title)")),p&&e.date_gmt&&(0,n.createElement)("time",{dateTime:(0,g.format)("c",e.date_gmt),className:"wp-block-latest-posts__post-date"},(0,g.dateI18n)(x,e.date_gmt)),a&&"excerpt"===s&&(0,n.createElement)("div",{className:"wp-block-latest-posts__post-excerpt"},(0,n.createElement)(l.RawHTML,{key:"html"},v<o.trim().split(" ").length?o.trim().split(" ",v).join(" ")+" ... <a href="+e.link+'target="_blank" rel="noopener noreferrer">'+(0,u.__)("Read more")+"</a>":o.trim().split(" ",v).join(" "))),a&&"full_post"===s&&(0,n.createElement)("div",{className:"wp-block-latest-posts__post-full-content"},(0,n.createElement)(l.RawHTML,{key:"html"},e.content.raw.trim())))}))))}}const f=(0,h.withSelect)(((e,t)=>{const{postsToShow:r,order:o,orderBy:n,categories:a}=t.attributes,{getEntityRecords:i}=e("core");return{latestPosts:i("postType","post",(0,s.pickBy)({categories:a,order:o,orderby:n,per_page:r},(e=>!(0,s.isUndefined)(e))))}}))(y),v=JSON.parse('{"UU":"em-block-posts-grid/em-block-posts-grid"}'),b=window.wp.primitives;window.ReactJSXRuntime;b.SVG,b.Path,(0,o.registerBlockType)(v.UU,{edit:f}),(0,u.__)("Latest Posts"),(0,u.__)("Display a list of your most recent posts."),(0,u.__)("recent posts"),edit},942:(e,t)=>{var r;!function(){"use strict";var o={}.hasOwnProperty;function n(){for(var e="",t=0;t<arguments.length;t++){var r=arguments[t];r&&(e=a(e,s(r)))}return e}function s(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!=typeof e)return"";if(Array.isArray(e))return n.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var r in e)o.call(e,r)&&e[r]&&(t=a(t,r));return t}function a(e,t){return t?e?e+" "+t:e+t:e}e.exports?(n.default=n,e.exports=n):void 0===(r=function(){return n}.apply(t,[]))||(e.exports=r)}()}},r={};function o(e){var n=r[e];if(void 0!==n)return n.exports;var s=r[e]={exports:{}};return t[e](s,s.exports,o),s.exports}o.m=t,e=[],o.O=(t,r,n,s)=>{if(!r){var a=1/0;for(p=0;p<e.length;p++){for(var[r,n,s]=e[p],i=!0,l=0;l<r.length;l++)(!1&s||a>=s)&&Object.keys(o.O).every((e=>o.O[e](r[l])))?r.splice(l--,1):(i=!1,s<a&&(a=s));if(i){e.splice(p--,1);var c=n();void 0!==c&&(t=c)}}return t}s=s||0;for(var p=e.length;p>0&&e[p-1][2]>s;p--)e[p]=e[p-1];e[p]=[r,n,s]},o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},o.d=(e,t)=>{for(var r in t)o.o(t,r)&&!o.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={57:0,350:0};o.O.j=t=>0===e[t];var t=(t,r)=>{var n,s,[a,i,l]=r,c=0;if(a.some((t=>0!==e[t]))){for(n in i)o.o(i,n)&&(o.m[n]=i[n]);if(l)var p=l(o)}for(t&&t(r);c<a.length;c++)s=a[c],o.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return o.O(p)},r=globalThis.webpackChunkem_block_posts_grid=globalThis.webpackChunkem_block_posts_grid||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var n=o.O(void 0,[350],(()=>o(140)));n=o.O(n)})();